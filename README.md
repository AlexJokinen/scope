# Access Proof of Concept

## Overview

The Access Proof of Concept (real name pending) is a Django application designed to provide access to Dissemination Information Packages (i.e., access copies of digital files stored in Archival Information Packages in CCA's Archivematica-based digital repository). The application is specifically designed around the custom DIPs generated by [name of script].

The primary application, "dips", allows users to add, organize, and interact with these DIPs and the digital files they contain, depending on user permissions.

## Data Model

The application organizes and displays information in several levels:

* **Collection**: This is the highest level of organization, and may correspond to an archive or other assembled collection of materials. Each Collection belongs to a Department, which allows end users to filter Collections by type.
* **Folder**: Folders belong to Collections, and correspond to an Archival Information Package (AIP) and Dissemination Information Package (DIP), which in turn contain one to many digital files.
* **Digital File**: Individual digital files also have detailed pages within the application, containing detailed metadata from the AIP METS file, including a list of PREMIS events. Digital Files should never be created manually, but only generated via parsing of the METS file when a new Folder/DIP is added.

## Uploading new DIPs

When a sufficiently privileged user creates a new Folder through the GUI interface, they need only enter the identifier, choose the Collection to which the Folder belongs, and upload a copy of the zipped digital objects and a copy of the AIP METS file. The application then uses the `parsemets.py` script to parse the METS file, automatically:

* Saving Dublin Core metadata found in the dmdSec to the DIP model object for the Folder (TODO: make sure most recent dmdSec is being used if AIP has been re-ingested for metadata)  
* Generating records for Digital Files and the PREMIS events associated with each digital file and saving them to the database.

In a future version of the application, it should be possible to upload a new DIP via a (not yet existing) REST API, which will similarly populate the database from the METS file.

Once the DIP has been uploaded, the metadata for the Folder can be edited through the GUI by any user with sufficient permissions.

## Permissions

By default, the application has three levels of permissions:

* **Admin**: Admin users can add, edit, and delete Departments, Collections, and Folders (through Django admin interface)
* **Edit Collections and DIPs**: Users in this Group can add and edit Collections and Folders
* **Public**: Users with a username/password but no additional permissions have view-only access.

## Superuser credentials (dev)

Username: admin  
Password: accesspoc

## Installation (dev)

virtualenv venv -p python3  
source venv/bin/activate  
pip install -r requirements.txt

## To do

* Choose which Dublin Core elements are displayed in Collection and Folder pages (user-configurable?)   
* Handle user accounts through app rather than admin
